{% extends "base.html" %}

{% import "bootstrap/wtf.html" as wtf %}

{% block title %}
Event Frame Dashboard
{% endblock %}

{% block page_content %}
<div>
    <ol class="breadcrumb">
        <li><a href = "{{ url_for("eventFrames.selectEventFrame", selectedClass = "Root") }}">..</a></li>
        <li><a href = "{{ url_for("eventFrames.selectEventFrame", selectedClass = "Enterprise",
            selectedId = eventFrame.EventFrameTemplate.ElementTemplate.Site.Enterprise.id()) }}">{{ eventFrame.EventFrameTemplate.ElementTemplate.Site.Enterprise.Name }}</a></li>
        <li><a href = "{{ url_for("eventFrames.selectEventFrame", selectedClass = "Site", selectedId = eventFrame.EventFrameTemplate.ElementTemplate.Site.id()) }}">
            {{ eventFrame.EventFrameTemplate.ElementTemplate.Site.Name }}</a></li>
        <li><a href = "{{ url_for("eventFrames.selectEventFrame", selectedClass = "ElementTemplate", selectedId = eventFrame.EventFrameTemplate.ElementTemplate.id()) }}">
            {{ eventFrame.EventFrameTemplate.ElementTemplate.Name }}</a></li>
        <li><a href = "{{ url_for("eventFrames.selectEventFrame", selectedClass = "EventFrameTemplate", selectedId = eventFrame.EventFrameTemplate.EventFrameTemplateId) }}">
            {{ eventFrame.EventFrameTemplate.Name }}</a></li>
        <li class = "active">{{ eventFrame.friendlyName() }}</li>
    </ol>
</div>
<div class = "page-header">
    <h1>Event Frame <small>{{ eventFrame.Element.Name }}</small></h1>
</div>
<div class = "container">
    <div class = "row">
        <div class = "col-xs-3">
            <ul class = "nav nav-pills nav-stacked">
                {% for descendant in eventFrame.EventFrameTemplate.descendants([], 0) %}
                    {% set prefix = "&nbsp;" * descendant["level"] %}
                    {% if descendant["eventFrameTemplate"].EventFrameTemplateId == selectedEventFrameTemplate.EventFrameTemplateId %}
                        {% set class = "active" %}
                    {% else %}
                        {% set class = "" %}
                    {% endif %}
                    <li class = "{{ class }}"><a href = "{{ url_for("eventFrames.dashboard", eventFrameId = eventFrame.EventFrameId,
                            selectedEventFrameTemplateId = descendant["eventFrameTemplate"].EventFrameTemplateId) }}">{{ prefix | safe }}
                            {{descendant["eventFrameTemplate"].Name }}</a></li>
                {% endfor %}
            </ul>
        </div>
        <div class = "col-xs-9">
            {% for eventFrameAttributeTemplate in selectedEventFrameTemplate.EventFrameAttributeTemplates %}
                {{ eventFrameAttributeTemplate.Name }}<br>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
    {{ super() }}
{% endblock %}